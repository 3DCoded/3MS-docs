{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the 3MS BETA Documentation","text":"<p>The 3MS is short for MMMS, which stands for Modular Multi Material System</p> <p></p> <p>Discord</p> <p>Join the 3MS channel at the Happy Hare Discord server here.</p>"},{"location":"#inspiration","title":"Inspiration","text":"<ul> <li>Prusa MMU1</li> <li>Bambu AMS</li> </ul>"},{"location":"#sample-prints","title":"Sample Prints","text":"Sample Prints SheepCalendarVoron CubeT-RexLizard <p>Model: Sheep by Cipis</p> <p></p> <p>Model: Monolith Cryptic Calendar by Sevro</p> <p></p> <p>Model: Voron Cube (bundled with OrcaSlicer), painted by me in OrcaSlicer</p> <p></p> <p>Printed at 50% scale</p> <p>Model: T-rex by Cipis</p> <p></p> <p>Model: Striped lizard with pupils by EngMike</p>"},{"location":"#photos","title":"Photos","text":"Photos Full Printer3MSY Splitter"},{"location":"#videos","title":"Videos","text":"West3D Video Series <p>Thank you to Allen Rowand from West3D for making this ongoing series on the 3MS.</p> <p></p> <p></p>"},{"location":"#why-3ms","title":"Why 3MS?","text":"<p>Why use the 3MS when there are many other multi-material systems?</p> <p>Here are a few reasons:</p> <ul> <li>Simplified Design: Minimal mechanical complexity for increased reliability.</li> <li>Comprehensive Documentation: Step-by-step guides to ensure smooth setup and operation.</li> <li>Slicer-Agnostic: No need for custom toolchange G-Code in your slicer.</li> <li>Scalable: Easily expand the system to handle any number of filaments.</li> <li>Auto-Retries: Automatic retries on failed tool changes to reduce downtime.</li> <li>No Filament Cutter Needed: Achieve clean tool changes without the need for filament cutters.</li> </ul> <p>With that said, there are a few reasons why you might not want to/be able to use the 3MS:</p> <ul> <li>Klipper firmware is a requirement, so Marlin and RRF setups are a no go</li> <li>A filament sensor is required, so if you don't have one/don't plan to get one, the 3MS won't work with your setup</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"<p>To use the 3MS, your setup has to meet the following requirements:</p> <ul> <li>Run Klipper firmware</li> <li>Have SSH (PuTTY) access (99.9% of Klipper installations have this, and if you don't you really should setup SSH)</li> <li>Have one spare USB port</li> <li>Have an adapter to install a PTFE tube to the inlet of your printer's extruder.</li> </ul>"},{"location":"#how-it-works","title":"How it works","text":"<p>Think of the 3MS as an extension to your current extruder's length. It allows for switching filaments without compromising any of the benefits of your printer's extruder.</p> <p>The 3MS's motors work together with your printer's extruder. This way, there won't be any additional resistance from pulling the filament through a disabled extruder. Also, unloads and loads to/from the printer's extruder are fully synchronized with the 3MS. This allows for even faster toolchanges!</p>"},{"location":"#get-started","title":"Get Started","text":"<p>To get started with the 3MS, see the Master Instructions.</p> <p>Get Started </p>"},{"location":"#what-about-the-3dchameleon","title":"What about the 3DChameleon?","text":"<p>I recently created a klipper plugin for the 3DChameleon after purchasing a unit. I'm sure my Chameleon could have worked if I had tuned it further, but after several months with only partial success, I gave up. I am still open to pull requests for 3dchameleon-klipper and will do my best to respond to issues there, but I won't be able to test it myself anymore.</p> <p>If you are having reliability issues with the 3DChameleon, see 3DChameleon Conversion.</p>"},{"location":"compare/","title":"Comparison of Multimaterial Systems","text":"<p>Not sure if you want to use the 3MS? Check this comparison between several common multimaterial systems.</p> <ul> <li> <p>3MS Modular Multimaterial System for Klipper 3D Printers</p> <p></p> <p>Pros:</p> <p> Simple Design</p> <p> Reliability</p> <p> Documentation</p> <p> Modular Design</p> <p> Active Community</p> <p> Price (~$140)</p> <p>Cons:</p> <p> Compatibility (only Klipper)</p> </li> </ul> <ul> <li> <p>Box Turtle MMU Automated Filament Changer</p> <p></p> <p>Pros:</p> <p> Reliability</p> <p> Active Community</p> <p> Documentation</p> <p>Cons:</p> <p> Expandability (only four lanes)</p> <p> Compatibility (only Klipper)</p> <p> Price ($300)</p> </li> <li> <p>ERCF v2 An expandable MMU for Klipper-based 3D-printers</p> <p></p> <p>Pros:</p> <p> Reliability</p> <p> Modular Design</p> <p> Active Community</p> <p> Documentation</p> <p>Cons:</p> <p> Compatibility (only Klipper)</p> <p> Complexity</p> </li> <li> <p>TradRack by Annex Engineering</p> <p></p> <p>Pros:</p> <p> Reliability</p> <p> Modular Design</p> <p> Active Community</p> <p> Documentation</p> <p>Cons:</p> <p> Compatibility (only Klipper)</p> <p> Complexity</p> </li> <li> <p>3DChameleon MK4 Automatic Color Changer</p> <p></p> <p>Pros:</p> <p> Compatibility</p> <p> No custom firmware</p> <p> Price ($200)</p> <p>Cons:</p> <p> Reliability</p> <p> Documentation</p> </li> <li> <p>SMuFF Smart Multi Filament Feeder</p> <p></p> <p>Pros:</p> <p> Reliability</p> <p> Modular Design</p> <p> Documentation</p> <p>Cons:</p> <p> Complexity</p> </li> <li> <p>Prusa MMU3 Multi Material Upgrade</p> <p></p> <p>Pros:</p> <p> Reliability</p> <p> Support</p> <p> Documentation</p> <p>Cons:</p> <p> Compatibility</p> <p> Price ($300)</p> </li> </ul>"},{"location":"flowchart/","title":"Toolchange Flowchart","text":"<p>This flowchart assumes a <code>fsensor_delay</code> of 2000ms.</p> <pre><code>graph TD\n  A[T1] --&gt; B[Toolchange T=1];\n  B[Toolchange T=1] --&gt; C{Same tool?};\n  C --&gt; |No| D{Previous filament loaded?};\n  C --&gt; |Yes| E{Do nothing};\n  D --&gt; |Yes| F[MMMS_UNLOAD];\n  F --&gt; G[DESYNC_TOOL TOOL=0];\n  G --&gt; H[G4 P2000];\n  H --&gt; I[CHECK_FSENSOR V=0];\n  D --&gt; |No| J[SYNC_TOOL TOOL=1];\n  I --&gt; J;\n  J --&gt; K[MMMS_LOAD];\n  K --&gt; L[G4 P2000];\n  L --&gt; M[CHECK_FSENSOR V=1];\n  M --&gt; N[Save new previous extruder]</code></pre>"},{"location":"instructions/","title":"Instructions","text":""},{"location":"instructions/#master-instructions","title":"Master Instructions","text":"<p>Due to the modularity of the 3MS, there are many ways to set it up. This guide attempts to encompass all supported ways of setting up the 3MS.</p>"},{"location":"instructions/#basic-steps","title":"Basic Steps","text":"<p>The basic steps this guide will follow are:</p> <ol> <li>Getting a BOM</li> <li>Assembling your 3MS</li> <li>Configuring your 3MS</li> </ol>"},{"location":"instructions/#0-explanations","title":"0. Explanations","text":"<p>Before starting the instructions, a basic understanding of how the 3MS works is recommended. There are two types of components in the 3MS:</p> <ul> <li> <p>Controller</p> <p>This controls the 3MS stepper motors. This is usually an extra 3D printer mainboard purchased specifically for the 3MS. If your existing 3D printer mainboard has spare stepper ports, you can use them for the 3MS. </p> <p>The available configurations are specific to either an external mainboard setup, or utilizing spare stepper ports on your existing mainboard. If you are utilizing spare stepper ports, the name of the config will include \"(main MCU)\"</p> <p>\"controller\" can be used interchangeably with \"MCU\" and \"control board\"</p> </li> <li> <p>Filament Units</p> <p>These move the filament. These are standard MK8 extruders (used on Ender 3's). You can use different extruders for the filament units, as long as you can mount them securely and they can attach to a PTFE tube. MK8 extruders are used as the default due to their low cost. </p> <p>\"filament unit\" and \"gate\" can be used interchangeably</p> </li> </ul> <p>The number of filaments you will be able to print with is equal to the number of filament units you have. For example, two filament units will let you print with two colors. It is important to note that one filament unit will NOT let you print in multimaterial.</p>"},{"location":"instructions/#1-getting-a-bom","title":"1. Getting a BOM","text":"<p>Go to BOM to view the bill of materials for the number of filament units you want. Example BOM for two filament units and a SKR Mini E3 V2:</p> Name Price Quantity Link Notes SKR Mini E3 V2 $34.99 1 Amazon Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters NEMA17 Stepper Motor $9.99 2 Amazon You can use a pancake stepper if you want, but it will have less torque MK8 Metal Extruder $9.99 2 Amazon Capricorn PTFE Tubing $11.49 1 Amazon You likely won't need this for every unit, as this is usually too long for only one unit"},{"location":"instructions/#2-assembling-your-3ms","title":"2. Assembling your 3MS","text":"<p>Follow Assembly to assemble your 3MS.</p>"},{"location":"instructions/#3-configuring-your-3ms","title":"3. Configuring your 3MS","text":"<p>Set up Happy Hare firmware following this guide.</p>"},{"location":"contributing/","title":"Contributing","text":"<p>If you want to contribute to the 3MS project, follow the instructions below.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<p>Follow Development Setup to setup your system for development with the 3MS.</p>"},{"location":"contributing/#pull-request","title":"Pull Request","text":"<p>Finally, submit a pull request. A developer will get back to you soon with feedback, before merging your pull request into the main project.</p> <p>Thank you for your contribution to the 3MS project!</p>"},{"location":"contributing/devsetup/","title":"Development Setup","text":"<p>Follow this guide to setup your system for development with the 3MS. </p>"},{"location":"contributing/devsetup/#documentation-changes","title":"Documentation Changes","text":"<ol> <li>Fork the 3MS repository</li> <li>Create a new branch for your pull request (from the <code>docs</code> branch)</li> <li>Install Python.</li> <li>Install Pipenv.</li> <li>In your terminal, navigate to the 3MS folder, and run:     <pre><code>pipenv install\npipenv shell\n</code></pre></li> <li>Develop changes in the new branch, using the following command to run the documentation locally:     <pre><code>mkdocs serve\n</code></pre></li> </ol>"},{"location":"guides/3dchameleon/","title":"3DChameleon to 3MS Conversion","text":"<p>Follow this guide to convert a 3DChameleon to a 3MS.</p>"},{"location":"guides/3dchameleon/#bom","title":"BOM","text":"Name Price Quantity Link Notes SKR Mini E3 V2 $34.99 1 Amazon Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters MK8 Metal Extruder $9.99 2 Amazon Alternatively, you can use this Dual-drive MK8 based extruder <p>The final cost of this upgrade is around $70.</p>"},{"location":"guides/3dchameleon/#instructions","title":"Instructions","text":"<ol> <li>Release the eight bolts on the 3DChameleon unit to remove the two NEMA17 stepper motors.</li> <li>Unplug the NEMA17's from the 3DChameleon electronics board</li> <li>Remove the PTFE tubes from the 3DChameleon unit and the Y-splitter</li> </ol> <p>Next, follow the Master Instructions except for the BOM section.</p>"},{"location":"hidden/hidden-assembly/","title":"Assembly","text":""},{"location":"hidden/hidden-assembly/#step-1-connecting-the-power-cables","title":"Step 1 Connecting the Power Cables","text":"<p>Choose one of the wiring options below.</p> Option 1 (DCIN)Option 2 (POWER) <p></p> <p></p> <p> Attach the positive cable from the PSU to the positive* port on the mainboard</p> <p> Attach the negative cable from the PSU to the negative port on the mainboard</p>"},{"location":"hidden/hidden-assembly/#step-2-connecting-the-stepper-motors","title":"Step 2 Connecting the Stepper Motors","text":"<p> Plug in the stepper for the first 3MS extruder (T0)</p> <p> Plug in the stepper for the second 3MS extruder (T1)</p> <p> If applicable, plug in the stepper for the third 3MS extruder (T2)</p> <p> If applicable, plug in the stepper for the fourth 3MS extruder (T3)</p>"},{"location":"setup/assembly/","title":"Assembly","text":"<p>Follow this guide to assemble your 3MS.</p>"},{"location":"setup/assembly/#printed-parts","title":"Printed Parts","text":""},{"location":"setup/assembly/#mounting","title":"Mounting","text":"<ul> <li>Univeral M3 Mount for Extruder Note that this requires 2-4 M3 bolts and a place to screw the bolts into (like an aluminum extrusion with T-nuts).</li> <li>3MS Box This is designed for four filament units and a BTT MMB. Designed by chadakken.</li> </ul>"},{"location":"setup/assembly/#other","title":"Other","text":"<ul> <li>4-way Y-splitter designed by ImChrono.</li> </ul>"},{"location":"setup/assembly/#filament-units-assembly","title":"Filament Units Assembly","text":"<ol> <li>If using any mounting parts, place it on the face of your NEMA17 motor.</li> <li>Assemble the MK8 extruders using the instructions that came with them.</li> <li>Repeat for all filament units.</li> </ol>"},{"location":"setup/assembly/#wiring","title":"Wiring","text":"<p>Note for Certain Printers</p> <p>If your printer has Klipper running internally (not on an external computer like a Raspberry Pi), the controller (if not a main MCU config) is plugged into a USB port on the printer itself.</p> <p>Follow one of the following guides based on your controller:</p> <p>Recommended: BTT MMB</p> <p>Other Controllers:</p> <ul> <li>SKR Mini E3 V2</li> <li>SKR Pico</li> <li>Mellow Fly D7</li> <li>BTT Octopus (main MCU)</li> <li>Einsy RAMBo (main MCU) with SKR Mini E3 V2</li> <li>Zonestar ZM384 (main MCU)</li> <li>Mini RAMBo</li> <li>Geetech A30T</li> </ul>"},{"location":"setup/bom/","title":"BOM","text":""},{"location":"setup/bom/#controller-choice","title":"Controller Choice","text":"<p>First, choose the control board you want to use in your 3MS. Choose a controller from the available ones here.</p>"},{"location":"setup/bom/#number-of-filament-units","title":"Number of filament units","text":"<p>First, choose the number of filament units you want. Each filament unit lets you print with an additional filament. Two filament units are the minimum. You can add or remove filament units after building, but the BOM and configuration will vary based on how many filament units you want.</p>"},{"location":"setup/bom/#controller-boms","title":"Controller BOMs","text":"<p>Choose the BOM for your chosen controller from the list below:</p> <p>Recommended: BTT MMB </p> <p>Other Controllers:</p> <ul> <li>BTT SKR Mini E3 V2</li> <li>BTT SKR Pico</li> <li>Mellow Fly D7</li> <li>BTT Octopus (main MCU)</li> <li>Zonestar ZM384 (main MCU)</li> <li>Mini RAMBo</li> <li>Geetech A30T</li> </ul>"},{"location":"setup/bom/#filament-unit-boms","title":"Filament Unit BOMs","text":"<p>For each filament unit, purchase this BOM:</p> Name Quantity Price Link Notes NEMA17 Stepper Motor 1 $9.99 Amazon You can use a pancake stepper if you want, but it will have less torque MK8 Metal Extruder 1 $9.99 Amazon Alternatively, you can use this Dual-drive MK8 based extruder PTFE Tubing 1 $8.99 Amazon You likely won't need this for every unit, as this is usually too long for only one unit"},{"location":"setup/firmware/","title":"Firmware","text":"<p>Follow this guide to install Klipper firmware onto your 3MS MCU. This guide is a modified version of the Klipper Documentation.</p> <p>Info</p> <p>The following controller(s) can skip this guide:</p> <ul> <li>BTT Octopus (main MCU)</li> <li>Zonestar ZM384 (main MCU)</li> </ul>"},{"location":"setup/firmware/#create-firmwarebin","title":"Create firmware.bin","text":"<p>Make sure your 3MS MCU is plugged into your Klipper Host. Run in your terminal:</p> <pre><code>cd ~/klipper\nmake menuconfig\n</code></pre> <p>In the menuconfig, configure it to your MCU. Instructions are included at the top of <code>3ms/controllers/xxx/steppers.cfg</code>.</p> <p>Geetech A30T</p> <p>If you're using a Geetech A30T controller, follow the flashing instructions here.</p> <p>Run in your terminal:</p> <pre><code>make clean\nmake\n</code></pre> <p>The <code>klipper.bin</code> file, located in <code>~/klipper/out/klipper.bin</code> needs to be copied to a MicroSD card and renamed to <code>firmware.bin</code> (case-sensitive). </p>"},{"location":"setup/firmware/#install-firmwarebin","title":"Install firmware.bin","text":"<p>Next, unplug the 3MS board from the PSU and your Klipper Host and insert the SD Card. Next, plug in the PSU, THEN the Klipper Host to the 3MS board. The firmware is now flashed.</p>"},{"location":"setup/firmware/#get-mcu-id","title":"Get MCU ID","text":"<p>In the terminal, run:</p> <pre><code>ls /dev/serial/by-id/\n</code></pre> <p>Example output:</p> <pre><code>usb-Klipper_stm32f103xe_33FFD1054746333809650557-if00\nusb-Prusa_Research__prusa3d.com__Original_Prusa_i3_MK3_xxx-if00\n</code></pre> <p>In this case, the first line is the 3MS, and the second line is the 3D printer. Now that you know the id of the 3MS MCU, copy it and save it to a file:</p> <pre><code>cd ~ &amp;&amp; echo \"&lt;your-mcu-id&gt;\" &gt;&gt; mcu.txt \n</code></pre>"},{"location":"setup/happy-hare/","title":"Happy Hare Firmware Setup","text":"<p>Follow this guide to install Happy Hare firmware and set it up with your 3MS. </p> <p>Info</p> <p>This guide will go through the bare minimum setup required to set up a functional 3MS. It is highly recommended that you read the official Happy Hare documentation.</p>"},{"location":"setup/happy-hare/#installation","title":"Installation","text":"<p>First, follow the Happy Hare installation instructions available here. When prompted in the installation wizard, select <code>3MS</code> as the MMU type.</p> <p>If you are using one of the natively supported controllers, Happy Hare will automatically set up the hardware configuration for you.</p>"},{"location":"setup/happy-hare/#configuring-other-controllers","title":"Configuring Other Controllers","text":"<p>If you are using another controller, you can use one of the 3MS controller configurations available here. </p>"},{"location":"setup/happy-hare/#naming-scheme","title":"Naming Scheme","text":"<p>Each configuration folder uses the following naming scheme:</p> <ol> <li>MCU name:<ul> <li><code>MMU</code>: external mainboard</li> <li><code>MAIN</code>: your printer's existing mainboard</li> </ul> </li> <li>Tool numbers: The first number should be <code>0</code> for a new setup, or be one higher than your previous controller's last tool number if adding to an existing 3MS.</li> <li>Mainboard name: Specifies the controller model, e.g. <code>btt_skr_pico</code>.</li> </ol>"},{"location":"setup/happy-hare/#examples","title":"Examples","text":"<p><code>MMU_0_3_btt_skr_pico</code>: External SKR Pico controlling four tools numbered <code>0</code> to <code>3</code>.</p> <p><code>MMU_0_6_gtm32_103_v1</code>: External GTM32 103 V1 controlling seven tools numbered <code>0</code> to <code>6</code>.</p> <p><code>MAIN_0_3_btt_octopus</code>: Internal BTT Octopus controlling four tools numbered <code>0</code> to <code>3</code>.</p>"},{"location":"setup/happy-hare/#setting-up-other-controllers","title":"Setting Up Other Controllers","text":"<ol> <li>Configuration Folder: To configure a 3MS controller that Happy Hare doesn't natively support, open the corresponding folder for the controller's name (e.g. <code>MMU_0_3_btt_skr_pico</code>).</li> <li> <p>Locate Files: In the configuration folder, there are two files:</p> <ul> <li><code>mmu.cfg</code></li> <li><code>mmu_hardware.cfg</code></li> </ul> </li> <li> <p>Copy the <code>mmu.cfg</code> file into your <code>mmu/base</code> configuration folder, replacing the existing file.</p> </li> <li>Open the controller's <code>mmu_hardware.cfg</code> and copy its contents.</li> <li> <p>In your <code>mmu/base/mmu_hardware.cfg</code> file, replace the <code>GEAR</code> section with the text you copied.</p> <p>The <code>GEAR</code> section starts with: <pre><code># FILAMENT DRIVE GEAR STEPPER(S)  --------------------------------------------------------------------------------------\n#  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \n# \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n# \u2588\u2588\u2551  \u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n# \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n# \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551\u2588\u2588\u2551  \u2588\u2588\u2551\n#  \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\n</code></pre></p> <p>and ends right before: <pre><code># SERVOS ---------------------------------------------------------------------------------------------------------------\n# \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557   \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n# \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\n# \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n# \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u255a\u2588\u2588\u2557 \u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\n# \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551 \u255a\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\n# \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d  \u255a\u2550\u2550\u2550\u255d   \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre></p> </li> </ol> <p>Your 3MS is now configured with Happy Hare.</p> <p>Info</p> <p>To finish setting up the 3MS and your printer, you can follow Happy Hare's official documentation.</p>"},{"location":"setup/controllers/","title":"Controllers","text":"<p>Follow this guide to determine which controller to use in your 3MS.</p>"},{"location":"setup/controllers/#options","title":"Options","text":"<p>The 3MS works on multiple different controllers. </p> <p>Info</p> <p>If your printer's mainboard has spare stepper ports, you can use them to control 3MS steppers. You can open an issue on Github (there's a template) to get a configuration made for your specific setup. Any controllers listed with \"(main MCU)\" use those spare stepper plugs.</p> <p>Choose one of the following supported controllers (a checked box indicates it is fully tested, and an empty box indicates testers wanted):</p> <ul> <li> <p> BTT MMB (4 colors)</p> <p>Recommended</p> </li> </ul> <ul> <li> SKR Mini E3 V2.0 (4 colors)</li> <li> <p> Einsy RAMBo (main MCU) with SKR Mini E3 V2.0 (3ms MCU)</p> <p>Expert modification</p> </li> <li> <p> Geetech A30T</p> </li> <li>[ ]w SKR Pico (4 colors)</li> <li> Mellow Fly D7 (6 colors)</li> <li> Zonestar ZM384 (main MCU) (4 colors)</li> <li> Mini RAMBo (4 colors)</li> <li> BTT Octopus (main MCU) (4 colors)</li> </ul>"},{"location":"setup/controllers/bttmmb/","title":"BTT MMB","text":"<p>Max filament units: 4</p> <p>MCU Name: <code>3ms</code></p>"},{"location":"setup/controllers/bttmmb/#bom","title":"BOM","text":"Name Price Quantity Link Notes BTT MMB $34.99 1 BTT Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters"},{"location":"setup/controllers/bttmmb/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 M1 1 M2 2 M3 3 M4 <p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p> <ol> <li>Plug the red wire into the positive terminal of the screw terminals</li> <li> <p>Plug the black wire into the negative terminal of the screw terminals</p> <p>Danger</p> <p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the MMB board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p> </li> <li> <p>Following this image, locate the HVIN and GND inputs (top left) </p> </li> <li>Route the two wires inside closest to the HVIN and GND inputs</li> <li>Using the markings on the board, plug the red wire into the HVIN terminal on the MMB</li> <li>Using the markings on the board, plug the black wire into the GND terminal on the MMB</li> <li> <p>Verify all connections</p> <p>Warning</p> <p>If the wires are plugged into the wrong place, or swapped polarities, your MMB, Stepper motors, and/or PSU can be badly damaged.</p> </li> <li> <p>Plug the PSU screw terminals into the PSU wire</p> </li> </ol> <p>If the MMB lights up, you wired it correctly!</p> <p>Finally, plug the MMB into your Klipper host with the cable that came with it.</p>"},{"location":"setup/controllers/bttoctopusmain/","title":"BTT Octopus (main MCU)","text":"<p>Warning</p> <p>This configuration may not work with the BTT Octopus Pro.</p> <p>Max filament units: 4</p> <p>MCU Name: <code>main</code></p>"},{"location":"setup/controllers/bttoctopusmain/#main-mcu","title":"main MCU","text":"<p>This configuration is a <code>main MCU</code> configuration, meaning that your printer should already be running off a BTT Octopus and you don't need to purchase one.</p>"},{"location":"setup/controllers/bttoctopusmain/#bom","title":"BOM","text":"<p>Per filament unit:</p> <p>1x TMC2209 ($7 each)</p>"},{"location":"setup/controllers/bttoctopusmain/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 MOTOR7 1 MOTOR6 2 MOTOR5 3 MOTOR4"},{"location":"setup/controllers/einsyrambo-skrminie3v2/","title":"Einsy RAMBo (main MCU) with SKR Mini E3 V2","text":"<p>Danger</p> <p>This guide is an expert guide only</p> <p>Info</p> <p>This modification is designed for the Prusa MK3/S/S+, and depends on this Klipper configuration.</p>"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#why","title":"Why?","text":"<p>When printing fast, the TMC2130's on the Einsy RAMBo can get quite loud. The TMC2209's on the SKR Mini are much quieter and support denser microstepping.</p>"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#bom","title":"BOM","text":"Name Price Quantity Link Notes PSU -&gt; Einsy Cable $7.99 1 PartsBuilt3D Stepperonline NEMA17 $9.99 each Amazon 2 Replaces current XY motors"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#wiring","title":"Wiring","text":"<p>First, unplug the 3MS steppers from the SKR Mini, and the XY steppers from the Einsy RAMBo. The motors will need to be switched due to different connector types between boards.</p> <p>This table outlines the major wiring of this modification.</p> Einsy RAMBo SKR Mini E3 V2 Motor PSU+ POWER+ PSU- POWER- XM 3ms0 YM 3ms1 XM X YM Y"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#configuration","title":"Configuration","text":"<p>In your <code>printer.cfg</code>, comment out these lines:</p> printer.cfg<pre><code>#[include klipper-prusa-mk3s/mk3s/steppers.cfg]\n#[include klipper-prusa-mk3s/mk3s/tmc2130.cfg]\n</code></pre> <p>Next, copy the contents of <code>3ms/controllers/einsy_rambo_with_skr_mini/xy-motors.cfg</code> and <code>ze-motors.cfg</code> to <code>klipper-prusa-mk3s/skr/xy.cfg</code>, and <code>klipper-prusa-mk3s/mk3s/ze.cfg</code>, respectively.</p> <p>Add the following new lines:</p> printer.cfg<pre><code>[include klipper-prusa-mk3s/skr/xy.cfg]\n[include klipper-prusa-mk3s/mk3s/ze.cfg]\n</code></pre> <p>Restart Klipper.</p>"},{"location":"setup/controllers/geetech-a30t/","title":"Geetech A30T","text":"<p>Contributed by @ImChrono</p> <p>Max filament units: 7</p> <p>MCU Name: <code>3ms</code></p>"},{"location":"setup/controllers/geetech-a30t/#bom","title":"BOM","text":"Name Price Quantity Link Notes Geetech A30T $34.99 1 Geetech Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 24V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters"},{"location":"setup/controllers/geetech-a30t/#firmware","title":"Firmware","text":"<p>To flash Klipper firmware to the A30T, run the following command and see the following screenshot:</p> <pre><code>cd ~/klipper\nmake menuconfig\n</code></pre> <p></p> <p>Next, connect the BOOT0 jumper on the A30T and run:</p> <pre><code>stm32flash -i ',,,,,' -v -w out/klipper.bin -g 0 /dev/serial/by-id/&lt;your-mcu-id-here&gt;\n</code></pre>"},{"location":"setup/controllers/geetech-a30t/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 X 1 Y 2 Z0 3 Z1 4 E1 5 E2 6 E3 <p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p> <ol> <li>Plug two red wires into the positive terminal of the screw terminals</li> <li> <p>Plug two black wires into the negative terminal of the screw terminals</p> <p>Danger</p> <p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the motherboard, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p> </li> <li> <p>Route the four wires inside closest to your chosen input</p> </li> <li>Using the markings on the board, plug the two red wires into the positive terminal on the motherboard</li> <li>Using the markings on the board, plug the two black wires into the negative terminal on the motherboard</li> <li> <p>Verify all connections</p> <p>Warning</p> <p>If the wires are plugged into the wrong place, or swapped polarities, your motherboard, Stepper motors, and/or PSU can be badly damaged.</p> </li> <li> <p>Plug the PSU screw terminals into the PSU wire</p> </li> </ol> <p>If the motherboard lights up, you wired it correctly!</p> <p>Finally, plug the motherboard into your Klipper host with the cable that came with it.</p>"},{"location":"setup/controllers/mellowflyd7/","title":"Mellow Fly D7","text":"<p>Max filament units: 7</p> <p>MCU Name: <code>3ms</code></p>"},{"location":"setup/controllers/mellowflyd7/#bom","title":"BOM","text":"Name Price Quantity Link Notes Mellow Fly D7 1 Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters"},{"location":"setup/controllers/mellowflyd7/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 X 1 Y 2 Z 3 Z1 4 Z2 5 E0 <p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p> <ol> <li>Plug the red wire into the positive terminal of the screw terminals</li> <li> <p>Plug the black wire into the negative terminal of the screw terminals</p> <p>Danger</p> <p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the board board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p> </li> <li> <p>Using the markings on the board, plug the red wire into the positive terminal on the board</p> </li> <li>Using the markings on the board, plug the black wire into the negative terminal on the board</li> <li> <p>Verify all connections</p> <p>Warning</p> <p>If the wires are plugged into the wrong place, or swapped polarities, your board, Stepper motors, and/or PSU can be badly damaged.</p> </li> <li> <p>Plug the PSU screw terminals into the PSU wire</p> </li> </ol> <p>If the board lights up, you wired it correctly!</p> <p>Finally, plug the board into your Klipper host with the cable that came with it.</p>"},{"location":"setup/controllers/minirambo/","title":"Mini RAMBo","text":"<p>Max filament units: 4</p> <p>MCU Name: <code>3ms</code></p>"},{"location":"setup/controllers/minirambo/#bom","title":"BOM","text":"Name Price Quantity Link Notes Mini RAMBo 1 Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters"},{"location":"setup/controllers/minirambo/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 XM 1 YM 2 ZAM or ZBM 3 E0M <p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p> <ol> <li>Plug the red wire into the positive terminal of the screw terminals</li> <li> <p>Plug the black wire into the negative terminal of the screw terminals</p> <p>Danger</p> <p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the RAMBo board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p> </li> <li> <p>Route the two wires inside closest to your chosen input</p> </li> <li>Using the markings on the board, plug the red wire into the positive terminal on the RAMBo</li> <li>Using the markings on the board, plug the black wire into the negative terminal on the RAMBo</li> <li> <p>Verify all connections</p> <p>Warning</p> <p>If the wires are plugged into the wrong place, or swapped polarities, your RAMBo, Stepper motors, and/or PSU can be badly damaged.</p> </li> <li> <p>Plug the PSU screw terminals into the PSU wire</p> </li> </ol> <p>If the RAMBo lights up, you wired it correctly!</p> <p>Finally, plug the RAMBo into your Klipper host with the cable that came with it.</p>"},{"location":"setup/controllers/skrminie3v2/","title":"BTT SKR Mini E3 V2","text":"<p>Max filament units: 4</p> <p>MCU Name: <code>3ms</code></p>"},{"location":"setup/controllers/skrminie3v2/#bom","title":"BOM","text":"Name Price Quantity Link Notes SKR Mini E3 V2 $34.99 1 Amazon Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters"},{"location":"setup/controllers/skrminie3v2/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 XM 1 YM 2 ZAM or ZBM 3 E0M <p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p> <ol> <li>Plug the red wire into the positive terminal of the screw terminals</li> <li> <p>Plug the black wire into the negative terminal of the screw terminals</p> <p>Danger</p> <p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the SKR board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p> </li> <li> <p>Following this image, choose either the DCIN or POWER input </p> </li> <li>Route the two wires inside closest to your chosen input</li> <li>Using the markings on the board, plug the red wire into the positive terminal on the SKR</li> <li>Using the markings on the board, plug the black wire into the negative terminal on the SKR</li> <li> <p>Verify all connections</p> <p>Warning</p> <p>If the wires are plugged into the wrong place, or swapped polarities, your SKR, Stepper motors, and/or PSU can be badly damaged.</p> </li> <li> <p>Plug the PSU screw terminals into the PSU wire</p> </li> </ol> <p>If the SKR lights up, you wired it correctly!</p> <p>Finally, plug the SKR into your Klipper host with the blue cable that came with it.</p>"},{"location":"setup/controllers/skrpico/","title":"BTT SKR Pico","text":"<p>Max filament units: 4</p> <p>MCU Name: <code>3ms</code></p>"},{"location":"setup/controllers/skrpico/#bom","title":"BOM","text":"Name Price Quantity Link Notes SKR Pico $35.99 1 Amazon Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters"},{"location":"setup/controllers/skrpico/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 X 1 Y 2 Z1 or Z2 3 E <p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p> <ol> <li>Plug the red wire into the positive terminal of the screw terminals</li> <li> <p>Plug the black wire into the negative terminal of the screw terminals</p> <p>Danger</p> <p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the SKR board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p> </li> <li> <p>Following this image, locate the POWER input </p> </li> <li>Route the two wires inside closest to the POWER input</li> <li>Using the markings on the board, plug the red wire into the positive terminal on the SKR</li> <li>Using the markings on the board, plug the black wire into the negative terminal on the SKR</li> <li> <p>Verify all connections</p> <p>Warning</p> <p>If the wires are plugged into the wrong place, or swapped polarities, your SKR, Stepper motors, and/or PSU can be badly damaged.</p> </li> <li> <p>Plug the PSU screw terminals into the PSU wire</p> </li> </ol> <p>If the SKR lights up, you wired it correctly!</p> <p>Finally, plug the SKR into your Klipper host with the blue cable that came with it.</p>"},{"location":"setup/controllers/zm384main/","title":"Zonestar ZM384 (main MCU)","text":"<p>Max filament units: 3</p> <p>MCU Name: <code>main</code></p>"},{"location":"setup/controllers/zm384main/#main-mcu","title":"main MCU","text":"<p>This configuration is a <code>main MCU</code> configuration, meaning that your printer should already be running off a ZM384 and you don't need to purchase one.</p> Filament Unit # Motor Port 0 E0 1 E1 2 E2 3 E3"}]}